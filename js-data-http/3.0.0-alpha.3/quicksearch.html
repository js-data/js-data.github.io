<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"-_home_ubuntu_workspace_js-data-http_src_index.js.html":{"id":"-_home_ubuntu_workspace_js-data-http_src_index.js.html","title":"Source: /home/ubuntu/workspace/js-data-http/src/index.js","body":" js-data-http Modules js-data-http Classes DSHttpAdapter Source: /home/ubuntu/workspace/js-data-http/src/index.js /* global fetch:true Headers:true Request:true */ const axios = require('axios') import {utils} from 'js-data' const { _, copy, deepMixIn, extend, fillIn, forOwn, isArray, isFunction, isNumber, isObject, isSorN, isString, resolve, reject, toJson } = utils let hasFetch = false try { hasFetch = window &amp;&amp; window.fetch } catch (e) {} function isValidString (value) { return (value != null &amp;&amp; value !== '') } function join (items, separator) { separator || (separator = '') return items.filter(isValidString).join(separator) } function makePath (...args) { let result = join(args, '/') return result.replace(/([^:\\/]|^)\\/{2,}/g, '$1/') } function encode (val) { return encodeURIComponent(val) .replace(/%40/gi, '@') .replace(/%3A/gi, ':') .replace(/%24/g, '$') .replace(/%2C/gi, ',') .replace(/%20/g, '+') .replace(/%5B/gi, '[') .replace(/%5D/gi, ']') } function buildUrl (url, params) { if (!params) { return url } const parts = [] forOwn(params, function (val, key) { if (val === null || typeof val === 'undefined') { return } if (!isArray(val)) { val = [val] } val.forEach(function (v) { if (window.toString.call(v) === '[object Date]') { v = v.toISOString() } else if (isObject(v)) { v = toJson(v) } parts.push(`${encode(key)}=${encode(v)}`) }) }) if (parts.length &gt; 0) { url += (url.indexOf('?') === -1 ? '?' : '&amp;') + parts.join('&amp;') } return url } /** * DSHttpAdapter class. * @class DSHttpAdapter * @alias DSHttpAdapter * * @param {Object} [opts] Configuration options. * @param {string} [opts.basePath=''] * @param {boolean} [opts.debug=false] * @param {boolean} [opts.forceTrailingSlash=false] * @param {Object} [opts.http=axios] * @param {Object} [opts.httpConfig={}] * @param {string} [opts.suffix=''] * @param {boolean} [opts.useFetch=false] */ function DSHttpAdapter (opts) { const self = this // Default values for arguments opts || (opts = {}) // Default and user-defined settings /** * @name DSHttpAdapter#basePath * @type {string} */ self.basePath = opts.basePath === undefined ? '' : opts.basePath /** * @name DSHttpAdapter#debug * @type {boolean} * @default false */ self.debug = opts.debug === undefined ? false : opts.debug /** * @name DSHttpAdapter#forceTrailingSlash * @type {boolean} * @default false */ self.forceTrailingSlash = opts.forceTrailingSlash === undefined ? false : opts.forceTrailingSlash /** * @name DSHttpAdapter#http * @type {Function} */ self.http = opts.http === undefined ? axios : opts.http /** * @name DSHttpAdapter#httpConfig * @type {Object} */ self.httpConfig = opts.httpConfig === undefined ? {} : opts.httpConfig /** * @name DSHttpAdapter#suffix * @type {string} */ self.suffix = opts.suffix === undefined ? '' : opts.suffix /** * @name DSHttpAdapter#useFetch * @type {boolean} * @default false */ self.useFetch = opts.useFetch === undefined ? false : opts.useFetch } fillIn(DSHttpAdapter.prototype, { /** * Lifecycle hook called by {@link DSHttpAdapter#create}. If this method * returns a promise then {@link DSHttpAdapter#create} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#create} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#create}. * @param {Object} props The `props` argument passed to {@link DSHttpAdapter#create}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#create}. * @param {Object} data The `data` value that {@link DSHttpAdapter#create} will return. */ afterCreate () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#createMany}. If this method * returns a promise then {@link DSHttpAdapter#createMany} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#createMany} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#createMany}. * @param {Object} models The `models` argument passed to {@link DSHttpAdapter#createMany}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#createMany}. * @param {Object} data The `data` value that {@link DSHttpAdapter#createMany} will return. */ afterCreateMany () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#DEL}. If this method * returns a promise then {@link DSHttpAdapter#DEL} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#DEL} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {string} url The `url` argument passed to {@link DSHttpAdapter#DEL}. * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#DEL}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#DEL}. * @param {Object} response The `response` value that {@link DSHttpAdapter#DEL} will return. */ afterDEL () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#destroy}. If this method * returns a promise then {@link DSHttpAdapter#destroy} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#destroy} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#destroy}. * @param {(string|number)} id The `id` argument passed to {@link DSHttpAdapter#destroy}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#destroy}. * @param {Object} data The `data` value that {@link DSHttpAdapter#destroy} will return. */ afterDestroy () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#destroyAll}. If this method * returns a promise then {@link DSHttpAdapter#destroyAll} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#destroyAll} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#destroyAll}. * @param {(string|number)} id The `id` argument passed to {@link DSHttpAdapter#destroyAll}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#destroyAll}. * @param {Object} data The `data` value that {@link DSHttpAdapter#destroyAll} will return. */ afterDestroyAll () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#find}. If this method * returns a promise then {@link DSHttpAdapter#find} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#find} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#find}. * @param {(string|number)} id The `id` argument passed to {@link DSHttpAdapter#find}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#find}. * @param {Object} data The `data` value that {@link DSHttpAdapter#find} will return. */ afterFind () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#findAll}. If this method * returns a promise then {@link DSHttpAdapter#findAll} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#findAll} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#findAll}. * @param {(string|number)} id The `id` argument passed to {@link DSHttpAdapter#findAll}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#findAll}. * @param {Object} data The `data` value that {@link DSHttpAdapter#findAll} will return. */ afterFindAll () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#GET}. If this method * returns a promise then {@link DSHttpAdapter#GET} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#GET} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {string} url The `url` argument passed to {@link DSHttpAdapter#GET}. * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#GET}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#GET}. * @param {Object} response The `response` value that {@link DSHttpAdapter#GET} will return. */ afterGET () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#HTTP}. If this method * returns a promise then {@link DSHttpAdapter#HTTP} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#HTTP} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#HTTP}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#HTTP}. * @param {Object} response The `response` value that {@link DSHttpAdapter#HTTP} will return. */ afterHTTP () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#POST}. If this method * returns a promise then {@link DSHttpAdapter#POST} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#POST} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {string} url The `url` argument passed to {@link DSHttpAdapter#POST}. * @param {Object} data The `data` argument passed to {@link DSHttpAdapter#POST}. * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#POST}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#POST}. * @param {Object} response The `response` value that {@link DSHttpAdapter#POST} will return. */ afterPOST () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#PUT}. If this method * returns a promise then {@link DSHttpAdapter#PUT} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#PUT} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {string} url The `url` argument passed to {@link DSHttpAdapter#PUT}. * @param {Object} data The `data` argument passed to {@link DSHttpAdapter#PUT}. * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#PUT}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#PUT}. * @param {Object} response The `response` value that {@link DSHttpAdapter#PUT} will return. */ afterPUT () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#update}. If this method * returns a promise then {@link DSHttpAdapter#update} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#update} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#update}. * @param {(string|number)} id The `id` argument passed to {@link DSHttpAdapter#update}. * @param {Object} props The `props` argument passed to {@link DSHttpAdapter#update}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#update}. * @param {Object} data The `data` value that {@link DSHttpAdapter#update} will return. */ afterUpdate () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#updateAll}. If this method * returns a promise then {@link DSHttpAdapter#updateAll} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#updateAll} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#updateAll}. * @param {Object} props The `props` argument passed to {@link DSHttpAdapter#updateAll}. * @param {Object} query The `query` argument passed to {@link DSHttpAdapter#updateAll}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#updateAll}. * @param {Object} data The `data` value that {@link DSHttpAdapter#updateAll} will return. */ afterUpdateAll () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#updateMany}. If this method * returns a promise then {@link DSHttpAdapter#updateMany} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#updateMany} * will resolve with that same value. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#updateMany}. * @param {Object} models The `models` argument passed to {@link DSHttpAdapter#updateMany}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#updateMany}. * @param {Object} data The `data` value that {@link DSHttpAdapter#updateMany} will return. */ afterUpdateMany () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#create}. If this method * returns a promise then {@link DSHttpAdapter#create} will wait for the * promise to resolve before continuing. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#create}. * @param {Object} props The `props` argument passed to {@link DSHttpAdapter#create}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#create}. */ beforeCreate () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#createMany}. If this method * returns a promise then {@link DSHttpAdapter#createMany} will wait for the * promise to resolve before continuing. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#createMany}. * @param {Object} models The `models` argument passed to {@link DSHttpAdapter#createMany}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#createMany}. */ beforeCreateMany () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#DEL}. If this method * returns a promise then {@link DSHttpAdapter#DEL} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#create} * will resolve with that same value, then the `config` argument passed to * {@link DSHttpAdapter#DEL} will be replaced by the value. * * @memberof DSHttpAdapter * @instance * @param {Object} url The `url` argument passed to {@link DSHttpAdapter#DEL}. * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#DEL}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#DEL}. */ beforeDEL () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#destroy}. If this method * returns a promise then {@link DSHttpAdapter#destroy} will wait for the * promise to resolve before continuing. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#destroy}. * @param {(string|number)} id The `id` argument passed to {@link DSHttpAdapter#destroy}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#destroy}. */ beforeDestroy () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#destroyAll}. If this method * returns a promise then {@link DSHttpAdapter#destroyAll} will wait for the * promise to resolve before continuing. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#destroyAll}. * @param {Object} query The `query` argument passed to {@link DSHttpAdapter#destroyAll}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#destroyAll}. */ beforeDestroyAll () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#find}. If this method * returns a promise then {@link DSHttpAdapter#find} will wait for the * promise to resolve before continuing. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#find}. * @param {(string|number)} id The `id` argument passed to {@link DSHttpAdapter#find}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#find}. */ beforeFind () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#findAll}. If this method * returns a promise then {@link DSHttpAdapter#findAll} will wait for the * promise to resolve before continuing. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#findAll}. * @param {Object} query The `query` argument passed to {@link DSHttpAdapter#findAll}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#findAll}. */ beforeFindAll () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#GET}. If this method * returns a promise then {@link DSHttpAdapter#GET} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#create} * will resolve with that same value, then the `config` argument passed to * {@link DSHttpAdapter#GET} will be replaced by the value. * * @memberof DSHttpAdapter * @instance * @param {Object} url The `url` argument passed to {@link DSHttpAdapter#GET}. * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#GET}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#GET}. */ beforeGET () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#HTTP}. If this method * returns a promise then {@link DSHttpAdapter#HTTP} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#create} * will resolve with that same value, then the `config` argument passed to * {@link DSHttpAdapter#HTTP} will be replaced by the value. * * @memberof DSHttpAdapter * @instance * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#HTTP}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#HTTP}. */ beforeHTTP () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#POST}. If this method * returns a promise then {@link DSHttpAdapter#POST} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#create} * will resolve with that same value, then the `config` argument passed to * {@link DSHttpAdapter#POST} will be replaced by the value. * * @memberof DSHttpAdapter * @instance * @param {Object} url The `url` argument passed to {@link DSHttpAdapter#POST}. * @param {Object} data The `data` argument passed to {@link DSHttpAdapter#POST}. * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#POST}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#POST}. */ beforePOST () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#PUT}. If this method * returns a promise then {@link DSHttpAdapter#PUT} will wait for the * promise to resolve before continuing. If this method returns any other * value or the promise resolves with a value, then {@link DSHttpAdapter#create} * will resolve with that same value, then the `config` argument passed to * {@link DSHttpAdapter#PUT} will be replaced by the value. * * @memberof DSHttpAdapter * @instance * @param {Object} url The `url` argument passed to {@link DSHttpAdapter#PUT}. * @param {Object} data The `data` argument passed to {@link DSHttpAdapter#PUT}. * @param {Object} config The `config` argument passed to {@link DSHttpAdapter#PUT}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#PUT}. */ beforePUT () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#update}. If this method * returns a promise then {@link DSHttpAdapter#update} will wait for the * promise to resolve before continuing. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#update}. * @param {(string|number)} id The `id` argument passed to {@link DSHttpAdapter#update}. * @param {Object} props The `props` argument passed to {@link DSHttpAdapter#update}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#update}. */ beforeUpdate () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#updateAll}. If this method * returns a promise then {@link DSHttpAdapter#updateAll} will wait for the * promise to resolve before continuing. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#updateAll}. * @param {Object} props The `props` argument passed to {@link DSHttpAdapter#updateAll}. * @param {Object} query The `query` argument passed to {@link DSHttpAdapter#updateAll}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#updateAll}. */ beforeUpdateAll () {}, /** * Lifecycle hook called by {@link DSHttpAdapter#updateMany}. If this method * returns a promise then {@link DSHttpAdapter#updateMany} will wait for the * promise to resolve before continuing. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The `Model` argument passed to {@link DSHttpAdapter#updateMany}. * @param {Object} models The `models` argument passed to {@link DSHttpAdapter#updateMany}. * @param {Object} opts The `opts` argument passed to {@link DSHttpAdapter#updateMany}. */ beforeUpdateMany () {}, /** * Create a new the entity from the provided `props`. * * {@link DSHttpAdapter#beforeCreate} will be called before calling * {@link DSHttpAdapter#POST}. * {@link DSHttpAdapter#afterCreate} will be called after calling * {@link DSHttpAdapter#POST}. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The Model. * @param {Object} props Properties to send as the payload. * @param {Object} [opts] Configuration options. * @param {string} [opts.params] TODO * @param {string} [opts.suffix={@link DSHttpAdapter#suffix}] TODO * @return {Promise} */ create (Model, props, opts) { const self = this opts = opts ? copy(opts) : {} opts.params || (opts.params = {}) opts.params = self.queryTransform(Model, opts.params, opts) opts.suffix || (opts.suffix = Model.suffix) opts.op = 'create' self.dbg(opts.op, Model, props, opts) return resolve(self.beforeCreate(Model, props, opts)).then(function () { return self.POST( self.getPath('create', Model, props, opts), self.serialize(Model, props, opts), opts ) }).then(function (response) { return self.deserialize(Model, response, opts) }).then(function (data) { return resolve(self.afterCreate(Model, props, opts, data)).then(function (_data) { return _data || data }) }) }, /** * Create multiple new entities in batch. * * {@link DSHttpAdapter#beforeCreateMany} will be called before calling * {@link DSHttpAdapter#POST}. * {@link DSHttpAdapter#afterCreateMany} will be called after calling * {@link DSHttpAdapter#POST}. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The Model. * @param {Array} models Array of property objects to send as the payload. * @param {Object} [opts] Configuration options. * @param {string} [opts.params] TODO * @param {string} [opts.suffix={@link DSHttpAdapter#suffix}] TODO * @return {Promise} */ createMany (Model, models, opts) { const self = this opts = opts ? copy(opts) : {} opts.params || (opts.params = {}) opts.params = self.queryTransform(Model, opts.params, opts) opts.suffix || (opts.suffix = Model.suffix) opts.op = 'createMany' self.dbg(opts.op, Model, models, opts) return resolve(self.beforeCreateMany(Model, models, opts)).then(function () { return self.POST( self.getPath('createMany', Model, null, opts), self.serialize(Model, models, opts), opts ) }).then(function (response) { return self.deserialize(Model, response, opts) }).then(function (data) { return resolve(self.afterCreateMany(Model, models, opts, data)).then(function (_data) { return _data || data }) }) }, /** * Call {@link DSHttpAdapter#log} at the &quot;debug&quot; level. * * @memberof DSHttpAdapter * @instance * @param {...*} [args] Args passed to {@link DSHttpAdapter#log}. */ dbg (...args) { this.log('debug', ...args) }, /** * Make an Http request to `url` according to the configuration in `config`. * * {@link DSHttpAdapter#beforeDEL} will be called before calling * {@link DSHttpAdapter#HTTP}. * {@link DSHttpAdapter#afterDEL} will be called after calling * {@link DSHttpAdapter#HTTP}. * * @memberof DSHttpAdapter * @instance * @param {string} url Url for the request. * @param {Object} [config] Http configuration that will be passed to * {@link DSHttpAdapter#HTTP}. * @param {Object} [opts] Configuration options. * @return {Promise} */ DEL (url, config, opts) { const self = this config || (config = {}) config.url = url || config.url config.method = config.method || 'delete' return resolve(self.beforeDEL(url, config, opts)).then(function (_config) { config = _config || config return self.HTTP(config, opts) }).then(function (response) { return resolve(self.afterDEL(url, config, opts, response)).then(function (_response) { return _response || response }) }) }, /** * Transform the server response object into the payload that will be returned * to JSData. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The Model used for the operation. * @param {Object} response Response object from {@link DSHttpAdapter#HTTP}. * @param {Object} opts Configuration options. * @return {(Object|Array)} Deserialized data. */ deserialize (Model, response, opts) { opts || (opts = {}) if (isFunction(opts.deserialize)) { return opts.deserialize(Model, response, opts) } if (isFunction(Model.deserialize)) { return Model.deserialize(Model, response, opts) } if (opts.raw) { return response } return response ? ('data' in response ? response.data : response) : response }, /** * Destroy the entity with the given primary key. * * {@link DSHttpAdapter#beforeDestroy} will be called before calling * {@link DSHttpAdapter#DEL}. * {@link DSHttpAdapter#afterDestroy} will be called after calling * {@link DSHttpAdapter#DEL}. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The Model. * @param {(string|number)} id Primary key of the entity to destroy. * @param {Object} [opts] Configuration options. * @param {string} [opts.params] TODO * @param {string} [opts.suffix={@link DSHttpAdapter#suffix}] TODO * @return {Promise} */ destroy (Model, id, opts) { const self = this opts = opts ? copy(opts) : {} opts.params || (opts.params = {}) opts.params = self.queryTransform(Model, opts.params, opts) opts.suffix || (opts.suffix = Model.suffix) opts.op = 'destroy' self.dbg(opts.op, Model, id, opts) return resolve(self.beforeDestroy(Model, id, opts)).then(function () { return self.DEL( self.getPath('destroy', Model, id, opts), opts ) }).then(function (response) { return self.deserialize(Model, response, opts) }).then(function (data) { return resolve(self.afterDestroy(Model, id, opts, data)).then(function (_data) { return _data || data }) }) }, /** * Destroy the entities that match the selection `query`. * * {@link DSHttpAdapter#beforeDestroyAll} will be called before calling * {@link DSHttpAdapter#DEL}. * {@link DSHttpAdapter#afterDestroyAll} will be called after calling * {@link DSHttpAdapter#DEL}. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The Model. * @param {Object} query Selection query. * @param {Object} [opts] Configuration options. * @param {string} [opts.params] TODO * @param {string} [opts.suffix={@link DSHttpAdapter#suffix}] TODO * @return {Promise} */ destroyAll (Model, query, opts) { const self = this query || (query = {}) opts = opts ? copy(opts) : {} opts.params || (opts.params = {}) deepMixIn(opts.params, query) opts.params = self.queryTransform(Model, opts.params, opts) opts.suffix || (opts.suffix = Model.suffix) opts.op = 'destroyAll' self.dbg(opts.op, Model, query, opts) return resolve(self.beforeDestroyAll(Model, query, opts)).then(function () { return self.DEL( self.getPath('destroyAll', Model, null, opts), opts ) }).then(function (response) { return self.deserialize(Model, response, opts) }).then(function (data) { return resolve(self.afterDestroyAll(Model, query, opts, data)).then(function (_data) { return _data || data }) }) }, /** * Log an error. * * @memberof DSHttpAdapter * @instance * @param {...*} [args] Arguments to log. */ error (...args) { if (console) { console[typeof console.error === 'function' ? 'error' : 'log'](...args) } }, /** * Make an Http request using `window.fetch`. * * @memberof DSHttpAdapter * @instance * @param {Object} config Request configuration. * @param {Object} config.data Payload for the request. * @param {string} config.method Http method for the request. * @param {Object} config.headers Headers for the request. * @param {Object} config.params Querystring for the request. * @param {string} config.url Url for the request. * @param {Object} [opts] Configuration options. */ fetch (config, opts) { const requestConfig = { method: config.method, // turn the plain headers object into the Fetch Headers object headers: new Headers(config.headers) } if (config.data) { requestConfig.body = toJson(config.data) } return fetch(new Request(buildUrl(config.url, config.params), requestConfig)).then(function (response) { response.config = { method: config.method, url: config.url } return response.json().then(function (data) { response.data = data return response }) }) }, /** * Retrieve the entity with the given primary key. * * {@link DSHttpAdapter#beforeFind} will be called before calling * {@link DSHttpAdapter#GET}. * {@link DSHttpAdapter#afterFind} will be called after calling * {@link DSHttpAdapter#GET}. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The Model. * @param {(string|number)} id Primary key of the entity to retrieve. * @param {Object} [opts] Configuration options. * @param {string} [opts.params] TODO * @param {string} [opts.suffix={@link DSHttpAdapter#suffix}] TODO * @return {Promise} */ find (Model, id, opts) { const self = this opts = opts ? copy(opts) : {} opts.params || (opts.params = {}) opts.params = self.queryTransform(Model, opts.params, opts) opts.suffix || (opts.suffix = Model.suffix) opts.op = 'find' self.dbg(opts.op, Model, id, opts) return resolve(self.beforeFind(Model, id, opts)).then(function () { return self.GET( self.getPath('find', Model, id, opts), opts ) }).then(function (response) { return self.deserialize(Model, response, opts) }).then(function (data) { return resolve(self.afterFind(Model, id, opts, data)).then(function (_data) { return _data || data }) }) }, /** * Retrieve the entities that match the selection `query`. * * {@link DSHttpAdapter#beforeFindAll} will be called before calling * {@link DSHttpAdapter#GET}. * {@link DSHttpAdapter#afterFindAll} will be called after calling * {@link DSHttpAdapter#GET}. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The Model. * @param {Object} query Selection query. * @param {Object} [opts] Configuration options. * @param {string} [opts.params] TODO * @param {string} [opts.suffix={@link DSHttpAdapter#suffix}] TODO * @return {Promise} */ findAll (Model, query, opts) { const self = this query || (query = {}) opts = opts ? copy(opts) : {} opts.params || (opts.params = {}) opts.suffix || (opts.suffix = Model.suffix) opts.op = 'findAll' self.dbg(opts.op, Model, query, opts) deepMixIn(opts.params, query) opts.params = self.queryTransform(Model, opts.params, opts) return resolve(self.beforeFindAll(Model, query, opts)).then(function () { return self.GET( self.getPath('findAll', Model, opts.params, opts), opts ) }).then(function (response) { return self.deserialize(Model, response, opts) }).then(function (data) { return resolve(self.afterFindAll(Model, query, opts, data)).then(function (_data) { return _data || data }) }) }, /** * { function_description } * * @memberof DSHttpAdapter * @instance * @param {string} url The url for the request. * @param {Object} config Request configuration options. * @param {Object} [opts] Configuration options. * @return {Promise} */ GET (url, config, opts) { const self = this config || (config = {}) config.url = url || config.url config.method = config.method || 'get' return resolve(self.beforeGET(url, config, opts)).then(function (_config) { config = _config || config return self.HTTP(config, opts) }).then(function (response) { return resolve(self.afterGET(url, config, opts, response)).then(function (_response) { return _response || response }) }) }, /** * @memberof DSHttpAdapter * @instance * @param {*} Model { description } * @param {*} id { description } * @param {boolean} opts { description } * @return {string} Full path. */ getEndpoint (Model, id, opts) { opts || (opts = {}) opts.params || (opts.params = {}) let item const parentKey = Model.parentKey const endpoint = opts.hasOwnProperty('endpoint') ? opts.endpoint : Model.endpoint let parentField = Model.parentField const parentDef = Model.parent ? Model.getResource(Model.parent) : undefined let parentId = opts.params[parentKey] if (parentId === false || !parentKey || !parentDef) { if (parentId === false) { delete opts.params[parentKey] } return endpoint } else { delete opts.params[parentKey] if (isString(id) || isNumber(id)) { item = Model.get(id) } else if (isObject(id)) { item = id } if (item) { parentId = parentId || item[parentKey] || (item[parentField] ? item[parentField][parentDef.idAttribute] : null) } if (parentId) { delete opts.endpoint const _opts = {} forOwn(opts, function (value, key) { _opts[key] = value }) _(_opts, parentDef) return makePath(this.getEndpoint(parentDef, parentId, _opts, parentId, endpoint)) } else { return endpoint } } }, /** * @memberof DSHttpAdapter * @instance * @param {string} method TODO * @param {*} Model TODO * @param {(string|number)?} id TODO * @param {Object} opts Configuration options. */ getPath (method, Model, id, opts) { const self = this opts || (opts = {}) const args = [ opts.basePath === undefined ? (Model.basePath === undefined ? self.basePath : Model.basePath) : opts.basePath, self.getEndpoint(Model, (isString(id) || isNumber(id) || method === 'create') ? id : null, opts) ] if (method === 'find' || method === 'update' || method === 'destroy') { args.push(id) } return makePath.apply(utils, args) }, /** * Make an Http request. * * @memberof DSHttpAdapter * @instance * @param {Object} config Request configuration options. * @param {Object} [opts] Configuration options. * @return {Promise} */ HTTP (config, opts) { const self = this const start = new Date() opts || (opts = {}) config = copy(config) config = deepMixIn(config, self.httpConfig) if (self.forceTrailingSlash &amp;&amp; config.url[config.url.length - 1] !== '/') { config.url += '/' } config.method = config.method.toUpperCase() const suffix = config.suffix || opts.suffix || self.suffix if (suffix &amp;&amp; config.url.substr(config.url.length - suffix.length) !== suffix) { config.url += suffix } function logResponse (data) { const str = `${start.toUTCString()} - ${config.method.toUpperCase()} ${config.url} - ${data.status} ${(new Date().getTime() - start.getTime())}ms` if (data.status &gt;= 200 &amp;&amp; data.status &lt; 300) { if (self.log) { self.dbg('debug', str, data) } return data } else { if (self.error) { self.error(`'FAILED: ${str}`, data) } return reject(data) } } if (!self.http) { throw new Error('You have not configured this adapter with an http library!') } return resolve(self.beforeHTTP(config, opts)).then(function (_config) { config = _config || config if (hasFetch &amp;&amp; (self.useFetch || opts.useFetch || !self.http)) { return self.fetch(config, opts).then(logResponse, logResponse) } return self.http(config).then(logResponse, logResponse).catch(function (err) { return self.responseError(err, config, opts) }) }).then(function (response) { return resolve(self.afterHTTP(config, opts, response)).then(function (_response) { return _response || response }) }) }, /** * Log the provided arguments at the specified leve. * * @memberof DSHttpAdapter * @instance * @param {string} level Log level. * @param {...*} [args] Arguments to log. */ log (level, ...args) { if (level &amp;&amp; !args.length) { args.push(level) level = 'debug' } if (level === 'debug' &amp;&amp; !this.debug) { return } const prefix = `${level.toUpperCase()}: (${this.name})` if (console[level]) { console[level](prefix, ...args) } else { console.log(prefix, ...args) } }, /** * { function_description } * * @memberof DSHttpAdapter * @instance * @param {*} url { description } * @param {*} data { description } * @param {*} config { description } * @param {Object} [opts] Configuration options. * @return {Promise} */ POST (url, data, config, opts) { const self = this config || (config = {}) config.url = url || config.url config.data = data || config.data config.method = config.method || 'post' return resolve(self.beforePOST(url, data, config, opts)).then(function (_config) { config = _config || config return self.HTTP(config, opts) }).then(function (response) { return resolve(self.afterPOST(url, data, config, opts, response)).then(function (_response) { return _response || response }) }) }, /** * { function_description } * * @memberof DSHttpAdapter * @instance * @param {*} url { description } * @param {*} data { description } * @param {*} config { description } * @param {Object} [opts] Configuration options. * @return {Promise} */ PUT (url, data, config, opts) { const self = this config || (config = {}) config.url = url || config.url config.data = data || config.data config.method = config.method || 'put' return resolve(self.beforePUT(url, data, config, opts)).then(function (_config) { config = _config || config return self.HTTP(config, opts) }).then(function (response) { return resolve(self.afterPUT(url, data, config, opts, response)).then(function (_response) { return _response || response }) }) }, /** * { function_description } * * @memberof DSHttpAdapter * @instance * @param {*} Model { description } * @param {*} params { description } * @param {*} opts { description } * @return {*} Transformed params. */ queryTransform (Model, params, opts) { opts || (opts = {}) if (isFunction(opts.queryTransform)) { return opts.queryTransform(Model, params, opts) } if (isFunction(Model.queryTransform)) { return Model.queryTransform(Model, params, opts) } return params }, /** * Error handler invoked when the promise returned by {@link DSHttpAdapter#http} * is rejected. Default implementation is to just return the error wrapped in * a rejected Promise, aka rethrow the error. {@link DSHttpAdapter#http} is * called by {@link DSHttpAdapter#HTTP}. * * @memberof DSHttpAdapter * @instance * @param {*} err The error that {@link DSHttpAdapter#http} rejected with. * @param {*} config The `config` argument that was passed to {@link DSHttpAdapter#HTTP}. * @param {*} opts The `opts` argument that was passed to {@link DSHttpAdapter#HTTP}. * @return {Promise} */ responseError (err, config, opts) { return reject(err) }, /** * { function_description } * * @memberof DSHttpAdapter * @instance * @param {*} Model { description } * @param {*} data { description } * @param {*} opts { description } * @return {*} Serialized data. */ serialize (Model, data, opts) { opts || (opts = {}) if (isFunction(opts.serialize)) { return opts.serialize(Model, data, opts) } if (isFunction(Model.serialize)) { return Model.serialize(Model, data, opts) } return data }, /** * { function_description } * * @memberof DSHttpAdapter * @instance * @param {*} Model { description } * @param {*} id { description } * @param {*} props { description } * @param {Object} [opts] Configuration options. * @return {Promise} */ update (Model, id, props, opts) { const self = this opts = opts ? copy(opts) : {} opts.params || (opts.params = {}) opts.params = self.queryTransform(Model, opts.params, opts) opts.suffix || (opts.suffix = Model.suffix) opts.op = 'update' self.dbg(opts.op, Model, id, props, opts) return resolve(self.beforeUpdate(Model, id, props, opts)).then(function () { return self.PUT( self.getPath('update', Model, id, opts), self.serialize(Model, props, opts), opts ) }).then(function (response) { return self.deserialize(Model, response, opts) }).then(function (data) { return resolve(self.afterUpdate(Model, id, props, opts, data)).then(function (_data) { return _data || data }) }) }, /** * { function_description } * * @memberof DSHttpAdapter * @instance * @param {*} Model { description } * @param {*} props { description } * @param {*} query { description } * @param {Object} [opts] Configuration options. * @return {Promise} */ updateAll (Model, props, query, opts) { const self = this query || (query = {}) opts = opts ? copy(opts) : {} opts.params || (opts.params = {}) deepMixIn(opts.params, query) opts.params = self.queryTransform(Model, opts.params, opts) opts.suffix || (opts.suffix = Model.suffix) opts.op = 'updateAll' self.dbg(opts.op, Model, props, query, opts) return resolve(self.beforeUpdateAll(Model, props, query, opts)).then(function () { return self.PUT( self.getPath('updateAll', Model, null, opts), self.serialize(Model, props, opts), opts ) }).then(function (response) { return self.deserialize(Model, response, opts) }).then(function (data) { return resolve(self.afterUpdateAll(Model, props, query, opts, data)).then(function (_data) { return _data || data }) }) }, /** * Update multiple entities in batch. * * {@link DSHttpAdapter#beforeUpdateMany} will be called before calling * {@link DSHttpAdapter#PUT}. * {@link DSHttpAdapter#afterUpdateMany} will be called after calling * {@link DSHttpAdapter#PUT}. * * @memberof DSHttpAdapter * @instance * @param {Object} Model The Model. * @param {Array} models Array of property objects to send as the payload. * @param {Object} [opts] Configuration options. * @param {string} [opts.params] TODO * @param {string} [opts.suffix={@link DSHttpAdapter#suffix}] TODO * @return {Promise} */ updateMany (Model, models, opts) { const self = this opts = opts ? copy(opts) : {} opts.params || (opts.params = {}) opts.params = self.queryTransform(Model, opts.params, opts) opts.suffix || (opts.suffix = Model.suffix) opts.op = 'updateMany' self.dbg(opts.op, Model, models, opts) return resolve(self.beforeUpdateMany(Model, models, opts)).then(function () { return self.PUT( self.getPath('updateMany', Model, null, opts), self.serialize(Model, models, opts), opts ) }).then(function (response) { return self.deserialize(Model, response, opts) }).then(function (data) { return resolve(self.afterUpdateMany(Model, models, opts, data)).then(function (_data) { return _data || data }) }) } }) /** * Add an Http actions to a Model. * * @name DSHttpAdapter.addAction * @method * @param {string} name Name of the new action. * @param {Object} [opts] Action configuration * @param {string} [opts.adapter] * @param {string} [opts.pathname] * @param {Function} [opts.request] * @param {Function} [opts.response] * @param {Function} [opts.responseError] * @return {Function} Decoration function, which should be passed the Model to * decorate when invoked. */ DSHttpAdapter.addAction = function (name, opts) { if (!name || !isString(name)) { throw new TypeError('action(name[, opts]): Expected: string, Found: ' + typeof name) } return function (Model) { if (Model[name]) { throw new Error('action(name[, opts]): ' + name + ' already exists on target!') } opts.request = opts.request || function (config) { return config } opts.response = opts.response || function (response) { return response } opts.responseError = opts.responseError || function (err) { return reject(err) } Model[name] = function (id, _opts) { if (isObject(id)) { _opts = id } _opts = _opts || {} let adapter = this.getAdapter(opts.adapter || this.defaultAdapter || 'http') let config = {} fillIn(config, opts) if (!_opts.hasOwnProperty('endpoint') &amp;&amp; config.endpoint) { _opts.endpoint = config.endpoint } if (typeof _opts.getEndpoint === 'function') { config.url = _opts.getEndpoint(this, _opts) } else { let args = [ _opts.basePath || this.basePath || adapter.defaults.basePath, adapter.getEndpoint(this, isSorN(id) ? id : null, _opts) ] if (isSorN(id)) { args.push(id) } args.push(opts.pathname || name) config.url = makePath.apply(null, args) } config.method = config.method || 'GET' config.modelName = this.name deepMixIn(config)(_opts) return resolve(config) .then(_opts.request || opts.request) .then(function (config) { return adapter.HTTP(config) }) .then(function (data) { if (data &amp;&amp; data.config) { data.config.modelName = this.name } return data }) .then(_opts.response || opts.response, _opts.responseError || opts.responseError) } return Model } } /** * Add multiple Http actions to a Model. See {@link DSHttpAdapter.addAction} for * action configuration options. * * @name DSHttpAdapter.addActions * @method * @param {Object.&lt;string, Object&gt;} opts Object where the key is an action name * and the value is the configuration for the action. * @return {Function} Decoration function, which should be passed the Model to * decorate when invoked. */ DSHttpAdapter.addActions = function (opts) { opts || (opts = {}) return function (Model) { forOwn(Model, function (value, key) { DSHttpAdapter.addAction(key, value)(Model) }) return Model } } /** * Alternative to ES6 class syntax for extending `DSHttpAdapter`. * * __ES6__: * ```javascript * class MyHttpAdapter extends DSHttpAdapter { * deserialize (Model, data, opts) { * const data = super.deserialize(Model, data, opts) * data.foo = 'bar' * return data * } * } * ``` * * __ES5__: * ```javascript * var instanceProps = { * // override deserialize * deserialize: function (Model, data, opts) { * var Ctor = this.constructor * var superDeserialize = (Ctor.__super__ || Object.getPrototypeOf(Ctor)).deserialize * // call the super deserialize * var data = superDeserialize(Model, data, opts) * data.foo = 'bar' * return data * }, * say: function () { return 'hi' } * } * var classProps = { * yell: function () { return 'HI' } * } * * var MyHttpAdapter = DSHttpAdapter.extend(instanceProps, classProps) * var adapter = new MyHttpAdapter() * adapter.say() // &quot;hi&quot; * MyHttpAdapter.yell() // &quot;HI&quot; * ``` * * @name DSHttpAdapter.extend * @method * @param {Object} [instanceProps] Properties that will be added to the * prototype of the subclass. * @param {Object} [classProps] Properties that will be added as static * properties to the subclass itself. * @return {Object} Subclass of `DSHttpAdapter`. */ DSHttpAdapter.extend = extend /** * Details of the current version of the `js-data-http` module. * * @name DSHttpAdapter.version * @type {Object} * @property {string} version.full The full semver value. * @property {number} version.major The major version number. * @property {number} version.minor The minor version number. * @property {number} version.patch The patch version number. * @property {(string|boolean)} version.alpha The alpha version value, * otherwise `false` if the current version is not alpha. * @property {(string|boolean)} version.beta The beta version value, * otherwise `false` if the current version is not beta. */ DSHttpAdapter.version = { full: '&lt;%= pkg.version %&gt;', major: parseInt('&lt;%= major %&gt;', 10), minor: parseInt('&lt;%= minor %&gt;', 10), patch: parseInt('&lt;%= patch %&gt;', 10), alpha: '&lt;%= alpha %&gt;' !== 'false' ? '&lt;%= alpha %&gt;' : false, beta: '&lt;%= beta %&gt;' !== 'false' ? '&lt;%= beta %&gt;' : false } /** * Registered as `js-data-http` in NPM and Bower. The build of `js-data-http` * that works on Node.js is registered in NPM as `js-data-http-node`. The build * of `js-data-http` that does not bundle `axios` is registered in NPM and Bower * as `js-data-fetch`. * * __Script tag__: * ```javascript * window.DSHttpAdapter * ``` * __CommonJS__: * ```javascript * var DSHttpAdapter = require('js-data-http') * ``` * __ES6 Modules__: * ```javascript * import DSHttpAdapter from 'js-data-http' * ``` * __AMD__: * ```javascript * define('myApp', ['js-data-http'], function (DSHttpAdapter) { ... }) * ``` * * @module js-data-http */ module.exports = DSHttpAdapter × Search results Close Back to js-data.io "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" js-data-http Modules js-data-http Classes DSHttpAdapter Modules Classes DSHttpAdapter × Search results Close Back to js-data.io "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" js-data-http Modules js-data-http Classes DSHttpAdapter Classes Classes DSHttpAdapter × Search results Close Back to js-data.io "},"index.html":{"id":"index.html","title":"Index","body":" js-data-http Modules js-data-http Classes DSHttpAdapter js-data-http 3.0.0-alpha.3 js-data-http This repo contains HTTP adapters for js-data: js-data-http - HTTP (XHR, includes axios) adapter for js-data in the browser. Capable of using window.fetch instead of axios. js-data-fetch - Same as js-data-http but doesn't include axios and will use window.fetch if available and if you don't provide your own http library. js-data-http-node - Same as js-data-http but runs on Node.js. Depends on axios and will use axios unless you provide a different http library. Tested on IE9, Chrome 46, Firefox 41 &amp; Safari 7.1 using Table of contents Quick start Dependencies Documentation API Reference Support Community Contributing License Quick StartBrowserbower install --save js-data js-data-http or npm install --save js-data js-data-http. ES6 const adapter = new DSHttpAdapter() class Base extends JSData.Model {} Base.registerAdapter('http', adapter, { default: true }) class School extends Model {} class Student extends Model {} // &quot;School&quot; and &quot;Student&quot; will now use the http adapter by defaultES5 var adapter = new DSHttpAdapter() var Base = JSData.Model.extend({}, { name: 'Base' }) Base.registerAdapter('http', adapter, { default: true }) var School = Base.extend({}, { name: 'School' }) var Student = Base.extend({}, { name: 'Student' }) // &quot;School&quot; and &quot;Student&quot; will now use the http adapter by defaultNode.jsnpm install --save axios js-data js-data-http-node ES6 import {Model} from 'js-data' import DSHttpAdapter from 'js-data-http-node' const adapter = new DSHttpAdapter() class Base extends Model {} Base.registerAdapter('http', adapter, { default: true }) class School extends Model {} class Student extends Model {} // &quot;School&quot; and &quot;Student&quot; will now use the http adapter by defaultES5 var JSData = require('js-data') var Model = JSData.Model var DSHttpAdapter = require('js-data-http-node') var adapter = new DSHttpAdapter() var Base = Model.extend({}, { name: 'Base' }) Base.registerAdapter('http', adapter, { default: true }) var School = Base.extend({}, { name: 'School' }) var Student = Base.extend({}, { name: 'Student' }) // &quot;School&quot; and &quot;Student&quot; will now use the http adapter by defaultDependenciesjs-data-http bundles axios and depends on js-data. js-data-fetch depends on js-data. js-data-http-node depends on js-data and optionally axios. See JSData's dependencies. Documentation Getting Started with js-data js-data-http CHANGELOG.md API Reference DS DSHttpAdapter SupportSupport questions are handled via Stack Overflow, Slack, and the Mailing List. Ask your questions there. Community Stack Overflow Slack chat Announcements Mailing List Issue Tracker GitHub Contributing Guide ContributingFirst, support is handled via the Slack Channel and the Mailing List. Ask your questions there. When submitting issues on GitHub, please include as much detail as possible to make debugging quick and easy. good - Your versions of js-data, js-data-http, etc., relevant console logs/error, code examples that revealed the issue better - A plnkr, fiddle, or bin that demonstrates the issue best - A Pull Request that fixes the issue, including test coverage for the issue and the fix Pull Requests Contribute to the issue/discussion that is the reason you'll be developing in the first place Fork js-data-http git clone git@github.com:&lt;you&gt;/js-data-http.git cd js-data-http; npm install; Write your code, including relevant documentation and tests Run npm test (build and test) Your code will be linted and checked for formatting, the tests will be run The dist/ folder &amp; files will be generated, do NOT commit dist/*! They will be committed when a release is cut. Submit your PR and we'll review! Thanks! LicenseThe MIT License (MIT) Copyright (c) 2014-2016 Jason Dobry Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. × Search results Close Back to js-data.io "},"DSHttpAdapter.html":{"id":"DSHttpAdapter.html","title":"Class: DSHttpAdapter","body":" js-data-http Modules js-data-http Classes DSHttpAdapter Class: DSHttpAdapter DSHttpAdapter new DSHttpAdapter(opts) DSHttpAdapter class. Parameters: Name Type Argument Description opts Object &lt;optional&gt; Configuration options. Properties Name Type Argument Default Description basePath string &lt;optional&gt; '' debug boolean &lt;optional&gt; false forceTrailingSlash boolean &lt;optional&gt; false http Object &lt;optional&gt; axios httpConfig Object &lt;optional&gt; {} suffix string &lt;optional&gt; '' useFetch boolean &lt;optional&gt; false Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 83 Members &lt;static&gt; version :Object Details of the current version of the js-data-http module. Type: Object Properties: Name Type Description version.full string The full semver value. version.major number The major version number. version.minor number The minor version number. version.patch number The patch version number. version.alpha string | boolean The alpha version value, otherwise false if the current version is not alpha. version.beta string | boolean The beta version value, otherwise false if the current version is not beta. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1474 basePath :string Type: string Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 104 debug :boolean Type: boolean Default Value: false Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 110 forceTrailingSlash :boolean Type: boolean Default Value: false Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 117 http :function Type: function Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 124 httpConfig :Object Type: Object Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 130 suffix :string Type: string Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 136 useFetch :boolean Type: boolean Default Value: false Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 142 Methods &lt;static&gt; addAction(name, opts) Add an Http actions to a Model. Parameters: Name Type Argument Description name string Name of the new action. opts Object &lt;optional&gt; Action configuration Properties Name Type Argument Description adapter string &lt;optional&gt; pathname string &lt;optional&gt; request function &lt;optional&gt; response function &lt;optional&gt; responseError function &lt;optional&gt; Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1337 Returns: Decoration function, which should be passed the Model to decorate when invoked. Type function &lt;static&gt; addActions(opts) Add multiple Http actions to a Model. See DSHttpAdapter.addAction for action configuration options. Parameters: Name Type Description opts Object.&lt;string, Object&gt; Object where the key is an action name and the value is the configuration for the action. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1405 Returns: Decoration function, which should be passed the Model to decorate when invoked. Type function &lt;static&gt; extend(instanceProps, classProps) Alternative to ES6 class syntax for extending DSHttpAdapter. ES6: class MyHttpAdapter extends DSHttpAdapter { deserialize (Model, data, opts) { const data = super.deserialize(Model, data, opts) data.foo = 'bar' return data } }ES5: var instanceProps = { // override deserialize deserialize: function (Model, data, opts) { var Ctor = this.constructor var superDeserialize = (Ctor.__super__ || Object.getPrototypeOf(Ctor)).deserialize // call the super deserialize var data = superDeserialize(Model, data, opts) data.foo = 'bar' return data }, say: function () { return 'hi' } } var classProps = { yell: function () { return 'HI' } } var MyHttpAdapter = DSHttpAdapter.extend(instanceProps, classProps) var adapter = new MyHttpAdapter() adapter.say() // &quot;hi&quot; MyHttpAdapter.yell() // &quot;HI&quot; Parameters: Name Type Argument Description instanceProps Object &lt;optional&gt; Properties that will be added to the prototype of the subclass. classProps Object &lt;optional&gt; Properties that will be added as static properties to the subclass itself. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1426 Returns: Subclass of DSHttpAdapter. Type Object afterCreate(Model, props, opts, data) Lifecycle hook called by DSHttpAdapter#create. If this method returns a promise then DSHttpAdapter#create will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#create will resolve with that same value. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#create. props Object The props argument passed to DSHttpAdapter#create. opts Object The opts argument passed to DSHttpAdapter#create. data Object The data value that DSHttpAdapter#create will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 165 afterCreateMany(Model, models, opts, data) Lifecycle hook called by DSHttpAdapter#createMany. If this method returns a promise then DSHttpAdapter#createMany will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#createMany will resolve with that same value. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#createMany. models Object The models argument passed to DSHttpAdapter#createMany. opts Object The opts argument passed to DSHttpAdapter#createMany. data Object The data value that DSHttpAdapter#createMany will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 181 afterDEL(url, config, opts, response) Lifecycle hook called by DSHttpAdapter#DEL. If this method returns a promise then DSHttpAdapter#DEL will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#DEL will resolve with that same value. Parameters: Name Type Description url string The url argument passed to DSHttpAdapter#DEL. config Object The config argument passed to DSHttpAdapter#DEL. opts Object The opts argument passed to DSHttpAdapter#DEL. response Object The response value that DSHttpAdapter#DEL will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 197 afterDestroy(Model, id, opts, data) Lifecycle hook called by DSHttpAdapter#destroy. If this method returns a promise then DSHttpAdapter#destroy will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#destroy will resolve with that same value. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#destroy. id string | number The id argument passed to DSHttpAdapter#destroy. opts Object The opts argument passed to DSHttpAdapter#destroy. data Object The data value that DSHttpAdapter#destroy will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 213 afterDestroyAll(Model, id, opts, data) Lifecycle hook called by DSHttpAdapter#destroyAll. If this method returns a promise then DSHttpAdapter#destroyAll will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#destroyAll will resolve with that same value. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#destroyAll. id string | number The id argument passed to DSHttpAdapter#destroyAll. opts Object The opts argument passed to DSHttpAdapter#destroyAll. data Object The data value that DSHttpAdapter#destroyAll will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 229 afterFind(Model, id, opts, data) Lifecycle hook called by DSHttpAdapter#find. If this method returns a promise then DSHttpAdapter#find will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#find will resolve with that same value. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#find. id string | number The id argument passed to DSHttpAdapter#find. opts Object The opts argument passed to DSHttpAdapter#find. data Object The data value that DSHttpAdapter#find will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 245 afterFindAll(Model, id, opts, data) Lifecycle hook called by DSHttpAdapter#findAll. If this method returns a promise then DSHttpAdapter#findAll will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#findAll will resolve with that same value. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#findAll. id string | number The id argument passed to DSHttpAdapter#findAll. opts Object The opts argument passed to DSHttpAdapter#findAll. data Object The data value that DSHttpAdapter#findAll will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 261 afterGET(url, config, opts, response) Lifecycle hook called by DSHttpAdapter#GET. If this method returns a promise then DSHttpAdapter#GET will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#GET will resolve with that same value. Parameters: Name Type Description url string The url argument passed to DSHttpAdapter#GET. config Object The config argument passed to DSHttpAdapter#GET. opts Object The opts argument passed to DSHttpAdapter#GET. response Object The response value that DSHttpAdapter#GET will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 277 afterHTTP(config, opts, response) Lifecycle hook called by DSHttpAdapter#HTTP. If this method returns a promise then DSHttpAdapter#HTTP will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#HTTP will resolve with that same value. Parameters: Name Type Description config Object The config argument passed to DSHttpAdapter#HTTP. opts Object The opts argument passed to DSHttpAdapter#HTTP. response Object The response value that DSHttpAdapter#HTTP will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 292 afterPOST(url, data, config, opts, response) Lifecycle hook called by DSHttpAdapter#POST. If this method returns a promise then DSHttpAdapter#POST will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#POST will resolve with that same value. Parameters: Name Type Description url string The url argument passed to DSHttpAdapter#POST. data Object The data argument passed to DSHttpAdapter#POST. config Object The config argument passed to DSHttpAdapter#POST. opts Object The opts argument passed to DSHttpAdapter#POST. response Object The response value that DSHttpAdapter#POST will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 309 afterPUT(url, data, config, opts, response) Lifecycle hook called by DSHttpAdapter#PUT. If this method returns a promise then DSHttpAdapter#PUT will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#PUT will resolve with that same value. Parameters: Name Type Description url string The url argument passed to DSHttpAdapter#PUT. data Object The data argument passed to DSHttpAdapter#PUT. config Object The config argument passed to DSHttpAdapter#PUT. opts Object The opts argument passed to DSHttpAdapter#PUT. response Object The response value that DSHttpAdapter#PUT will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 326 afterUpdate(Model, id, props, opts, data) Lifecycle hook called by DSHttpAdapter#update. If this method returns a promise then DSHttpAdapter#update will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#update will resolve with that same value. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#update. id string | number The id argument passed to DSHttpAdapter#update. props Object The props argument passed to DSHttpAdapter#update. opts Object The opts argument passed to DSHttpAdapter#update. data Object The data value that DSHttpAdapter#update will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 343 afterUpdateAll(Model, props, query, opts, data) Lifecycle hook called by DSHttpAdapter#updateAll. If this method returns a promise then DSHttpAdapter#updateAll will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#updateAll will resolve with that same value. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#updateAll. props Object The props argument passed to DSHttpAdapter#updateAll. query Object The query argument passed to DSHttpAdapter#updateAll. opts Object The opts argument passed to DSHttpAdapter#updateAll. data Object The data value that DSHttpAdapter#updateAll will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 360 afterUpdateMany(Model, models, opts, data) Lifecycle hook called by DSHttpAdapter#updateMany. If this method returns a promise then DSHttpAdapter#updateMany will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#updateMany will resolve with that same value. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#updateMany. models Object The models argument passed to DSHttpAdapter#updateMany. opts Object The opts argument passed to DSHttpAdapter#updateMany. data Object The data value that DSHttpAdapter#updateMany will return. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 376 beforeCreate(Model, props, opts) Lifecycle hook called by DSHttpAdapter#create. If this method returns a promise then DSHttpAdapter#create will wait for the promise to resolve before continuing. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#create. props Object The props argument passed to DSHttpAdapter#create. opts Object The opts argument passed to DSHttpAdapter#create. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 389 beforeCreateMany(Model, models, opts) Lifecycle hook called by DSHttpAdapter#createMany. If this method returns a promise then DSHttpAdapter#createMany will wait for the promise to resolve before continuing. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#createMany. models Object The models argument passed to DSHttpAdapter#createMany. opts Object The opts argument passed to DSHttpAdapter#createMany. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 402 beforeDEL(url, config, opts) Lifecycle hook called by DSHttpAdapter#DEL. If this method returns a promise then DSHttpAdapter#DEL will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#create will resolve with that same value, then the config argument passed to DSHttpAdapter#DEL will be replaced by the value. Parameters: Name Type Description url Object The url argument passed to DSHttpAdapter#DEL. config Object The config argument passed to DSHttpAdapter#DEL. opts Object The opts argument passed to DSHttpAdapter#DEL. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 418 beforeDestroy(Model, id, opts) Lifecycle hook called by DSHttpAdapter#destroy. If this method returns a promise then DSHttpAdapter#destroy will wait for the promise to resolve before continuing. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#destroy. id string | number The id argument passed to DSHttpAdapter#destroy. opts Object The opts argument passed to DSHttpAdapter#destroy. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 431 beforeDestroyAll(Model, query, opts) Lifecycle hook called by DSHttpAdapter#destroyAll. If this method returns a promise then DSHttpAdapter#destroyAll will wait for the promise to resolve before continuing. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#destroyAll. query Object The query argument passed to DSHttpAdapter#destroyAll. opts Object The opts argument passed to DSHttpAdapter#destroyAll. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 444 beforeFind(Model, id, opts) Lifecycle hook called by DSHttpAdapter#find. If this method returns a promise then DSHttpAdapter#find will wait for the promise to resolve before continuing. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#find. id string | number The id argument passed to DSHttpAdapter#find. opts Object The opts argument passed to DSHttpAdapter#find. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 457 beforeFindAll(Model, query, opts) Lifecycle hook called by DSHttpAdapter#findAll. If this method returns a promise then DSHttpAdapter#findAll will wait for the promise to resolve before continuing. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#findAll. query Object The query argument passed to DSHttpAdapter#findAll. opts Object The opts argument passed to DSHttpAdapter#findAll. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 470 beforeGET(url, config, opts) Lifecycle hook called by DSHttpAdapter#GET. If this method returns a promise then DSHttpAdapter#GET will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#create will resolve with that same value, then the config argument passed to DSHttpAdapter#GET will be replaced by the value. Parameters: Name Type Description url Object The url argument passed to DSHttpAdapter#GET. config Object The config argument passed to DSHttpAdapter#GET. opts Object The opts argument passed to DSHttpAdapter#GET. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 486 beforeHTTP(config, opts) Lifecycle hook called by DSHttpAdapter#HTTP. If this method returns a promise then DSHttpAdapter#HTTP will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#create will resolve with that same value, then the config argument passed to DSHttpAdapter#HTTP will be replaced by the value. Parameters: Name Type Description config Object The config argument passed to DSHttpAdapter#HTTP. opts Object The opts argument passed to DSHttpAdapter#HTTP. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 501 beforePOST(url, data, config, opts) Lifecycle hook called by DSHttpAdapter#POST. If this method returns a promise then DSHttpAdapter#POST will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#create will resolve with that same value, then the config argument passed to DSHttpAdapter#POST will be replaced by the value. Parameters: Name Type Description url Object The url argument passed to DSHttpAdapter#POST. data Object The data argument passed to DSHttpAdapter#POST. config Object The config argument passed to DSHttpAdapter#POST. opts Object The opts argument passed to DSHttpAdapter#POST. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 518 beforePUT(url, data, config, opts) Lifecycle hook called by DSHttpAdapter#PUT. If this method returns a promise then DSHttpAdapter#PUT will wait for the promise to resolve before continuing. If this method returns any other value or the promise resolves with a value, then DSHttpAdapter#create will resolve with that same value, then the config argument passed to DSHttpAdapter#PUT will be replaced by the value. Parameters: Name Type Description url Object The url argument passed to DSHttpAdapter#PUT. data Object The data argument passed to DSHttpAdapter#PUT. config Object The config argument passed to DSHttpAdapter#PUT. opts Object The opts argument passed to DSHttpAdapter#PUT. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 535 beforeUpdate(Model, id, props, opts) Lifecycle hook called by DSHttpAdapter#update. If this method returns a promise then DSHttpAdapter#update will wait for the promise to resolve before continuing. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#update. id string | number The id argument passed to DSHttpAdapter#update. props Object The props argument passed to DSHttpAdapter#update. opts Object The opts argument passed to DSHttpAdapter#update. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 549 beforeUpdateAll(Model, props, query, opts) Lifecycle hook called by DSHttpAdapter#updateAll. If this method returns a promise then DSHttpAdapter#updateAll will wait for the promise to resolve before continuing. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#updateAll. props Object The props argument passed to DSHttpAdapter#updateAll. query Object The query argument passed to DSHttpAdapter#updateAll. opts Object The opts argument passed to DSHttpAdapter#updateAll. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 563 beforeUpdateMany(Model, models, opts) Lifecycle hook called by DSHttpAdapter#updateMany. If this method returns a promise then DSHttpAdapter#updateMany will wait for the promise to resolve before continuing. Parameters: Name Type Description Model Object The Model argument passed to DSHttpAdapter#updateMany. models Object The models argument passed to DSHttpAdapter#updateMany. opts Object The opts argument passed to DSHttpAdapter#updateMany. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 576 create(Model, props, opts) Create a new the entity from the provided props. DSHttpAdapter#beforeCreate will be called before calling DSHttpAdapter#POST. DSHttpAdapter#afterCreate will be called after calling DSHttpAdapter#POST. Parameters: Name Type Argument Description Model Object The Model. props Object Properties to send as the payload. opts Object &lt;optional&gt; Configuration options. Properties Name Type Argument Default Description params string &lt;optional&gt; TODO suffix string &lt;optional&gt; DSHttpAdapter#suffix TODO Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 595 Returns: Type Promise createMany(Model, models, opts) Create multiple new entities in batch. DSHttpAdapter#beforeCreateMany will be called before calling DSHttpAdapter#POST. DSHttpAdapter#afterCreateMany will be called after calling DSHttpAdapter#POST. Parameters: Name Type Argument Description Model Object The Model. models Array Array of property objects to send as the payload. opts Object &lt;optional&gt; Configuration options. Properties Name Type Argument Default Description params string &lt;optional&gt; TODO suffix string &lt;optional&gt; DSHttpAdapter#suffix TODO Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 635 Returns: Type Promise dbg(args) Call DSHttpAdapter#log at the &quot;debug&quot; level. Parameters: Name Type Argument Description args * &lt;optional&gt; &lt;repeatable&gt; Args passed to DSHttpAdapter#log. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 665 DEL(url, config, opts) Make an Http request to url according to the configuration in config. DSHttpAdapter#beforeDEL will be called before calling DSHttpAdapter#HTTP. DSHttpAdapter#afterDEL will be called after calling DSHttpAdapter#HTTP. Parameters: Name Type Argument Description url string Url for the request. config Object &lt;optional&gt; Http configuration that will be passed to DSHttpAdapter#HTTP. opts Object &lt;optional&gt; Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 685 Returns: Type Promise deserialize(Model, response, opts) Transform the server response object into the payload that will be returned to JSData. Parameters: Name Type Description Model Object The Model used for the operation. response Object Response object from DSHttpAdapter#HTTP. opts Object Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 711 Returns: Deserialized data. Type Object | Array destroy(Model, id, opts) Destroy the entity with the given primary key. DSHttpAdapter#beforeDestroy will be called before calling DSHttpAdapter#DEL. DSHttpAdapter#afterDestroy will be called after calling DSHttpAdapter#DEL. Parameters: Name Type Argument Description Model Object The Model. id string | number Primary key of the entity to destroy. opts Object &lt;optional&gt; Configuration options. Properties Name Type Argument Default Description params string &lt;optional&gt; TODO suffix string &lt;optional&gt; DSHttpAdapter#suffix TODO Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 742 Returns: Type Promise destroyAll(Model, query, opts) Destroy the entities that match the selection query. DSHttpAdapter#beforeDestroyAll will be called before calling DSHttpAdapter#DEL. DSHttpAdapter#afterDestroyAll will be called after calling DSHttpAdapter#DEL. Parameters: Name Type Argument Description Model Object The Model. query Object Selection query. opts Object &lt;optional&gt; Configuration options. Properties Name Type Argument Default Description params string &lt;optional&gt; TODO suffix string &lt;optional&gt; DSHttpAdapter#suffix TODO Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 781 Returns: Type Promise error(args) Log an error. Parameters: Name Type Argument Description args * &lt;optional&gt; &lt;repeatable&gt; Arguments to log. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 812 fetch(config, opts) Make an Http request using window.fetch. Parameters: Name Type Argument Description config Object Request configuration. Properties Name Type Description data Object Payload for the request. method string Http method for the request. headers Object Headers for the request. params Object Querystring for the request. url string Url for the request. opts Object &lt;optional&gt; Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 831 find(Model, id, opts) Retrieve the entity with the given primary key. DSHttpAdapter#beforeFind will be called before calling DSHttpAdapter#GET. DSHttpAdapter#afterFind will be called after calling DSHttpAdapter#GET. Parameters: Name Type Argument Description Model Object The Model. id string | number Primary key of the entity to retrieve. opts Object &lt;optional&gt; Configuration options. Properties Name Type Argument Default Description params string &lt;optional&gt; TODO suffix string &lt;optional&gt; DSHttpAdapter#suffix TODO Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 871 Returns: Type Promise findAll(Model, query, opts) Retrieve the entities that match the selection query. DSHttpAdapter#beforeFindAll will be called before calling DSHttpAdapter#GET. DSHttpAdapter#afterFindAll will be called after calling DSHttpAdapter#GET. Parameters: Name Type Argument Description Model Object The Model. query Object Selection query. opts Object &lt;optional&gt; Configuration options. Properties Name Type Argument Default Description params string &lt;optional&gt; TODO suffix string &lt;optional&gt; DSHttpAdapter#suffix TODO Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 910 Returns: Type Promise GET(url, config, opts) { function_description } Parameters: Name Type Argument Description url string The url for the request. config Object Request configuration options. opts Object &lt;optional&gt; Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 944 Returns: Type Promise getEndpoint(Model, id, opts) Parameters: Name Type Description Model * { description } id * { description } opts boolean { description } Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 967 Returns: Full path. Type string getPath(method, Model, id, opts) Parameters: Name Type Argument Description method string TODO Model * TODO id string | number &lt;nullable&gt; TODO opts Object Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1018 HTTP(config, opts) Make an Http request. Parameters: Name Type Argument Description config Object Request configuration options. opts Object &lt;optional&gt; Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1040 Returns: Type Promise log(level, args) Log the provided arguments at the specified leve. Parameters: Name Type Argument Description level string Log level. args * &lt;optional&gt; &lt;repeatable&gt; Arguments to log. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1097 POST(url, data, config, opts) { function_description } Parameters: Name Type Argument Description url * { description } data * { description } config * { description } opts Object &lt;optional&gt; Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1124 Returns: Type Promise PUT(url, data, config, opts) { function_description } Parameters: Name Type Argument Description url * { description } data * { description } config * { description } opts Object &lt;optional&gt; Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1151 Returns: Type Promise queryTransform(Model, params, opts) { function_description } Parameters: Name Type Description Model * { description } params * { description } opts * { description } Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1177 Returns: Transformed params. Type * responseError(err, config, opts) Error handler invoked when the promise returned by DSHttpAdapter#http is rejected. Default implementation is to just return the error wrapped in a rejected Promise, aka rethrow the error. DSHttpAdapter#http is called by DSHttpAdapter#HTTP. Parameters: Name Type Description err * The error that DSHttpAdapter#http rejected with. config * The config argument that was passed to DSHttpAdapter#HTTP. opts * The opts argument that was passed to DSHttpAdapter#HTTP. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1201 Returns: Type Promise serialize(Model, data, opts) { function_description } Parameters: Name Type Description Model * { description } data * { description } opts * { description } Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1215 Returns: Serialized data. Type * update(Model, id, props, opts) { function_description } Parameters: Name Type Argument Description Model * { description } id * { description } props * { description } opts Object &lt;optional&gt; Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1237 Returns: Type Promise updateAll(Model, props, query, opts) { function_description } Parameters: Name Type Argument Description Model * { description } props * { description } query * { description } opts Object &lt;optional&gt; Configuration options. Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1271 Returns: Type Promise updateMany(Model, models, opts) Update multiple entities in batch. DSHttpAdapter#beforeUpdateMany will be called before calling DSHttpAdapter#PUT. DSHttpAdapter#afterUpdateMany will be called after calling DSHttpAdapter#PUT. Parameters: Name Type Argument Description Model Object The Model. models Array Array of property objects to send as the payload. opts Object &lt;optional&gt; Configuration options. Properties Name Type Argument Default Description params string &lt;optional&gt; TODO suffix string &lt;optional&gt; DSHttpAdapter#suffix TODO Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1313 Returns: Type Promise × Search results Close Back to js-data.io "},"module-js-data-http.html":{"id":"module-js-data-http.html","title":"Module: js-data-http","body":" js-data-http Modules js-data-http Classes DSHttpAdapter Module: js-data-http Registered as js-data-http in NPM and Bower. The build of js-data-http that works on Node.js is registered in NPM as js-data-http-node. The build of js-data-http that does not bundle axios is registered in NPM and Bower as js-data-fetch. Script tag: window.DSHttpAdapterCommonJS: var DSHttpAdapter = require('js-data-http')ES6 Modules: import DSHttpAdapter from 'js-data-http'AMD: define('myApp', ['js-data-http'], function (DSHttpAdapter) { ... }) Source: /home/ubuntu/workspace/js-data-http/src/index.js, line 1497 × Search results Close Back to js-data.io "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
